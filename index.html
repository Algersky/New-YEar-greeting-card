<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css'>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/amazeui.min.css">
    <link rel="stylesheet" href="css/resetting.css">
    <title>贺卡</title>
    <script src="js/jq.js"></script>
    <audio id="audio" loop>     
        <source src="music/time_to_love.mp3" />
    </audio>
</head>

<body>
    <div class="container">
        <div class="page" id="point1">
            <div>
                <img src="img/cloudsmall.png" class="cloudhuge section-one">
                <img src="img/cloudhuge.png" class="cloudsmall section-two">
                <div class="background section-three" id="click1">
                    <input type="checkbox" id="button" style="display: none;">
                    <label for="button" class="button" id="start">
                        Link Start
                        <i class="fas fa-check" style="letter-spacing: 0;"></i>
                    </label>
                    <svg class="circle">
                        <circle cx="32" cy="32" r="31" />
                    </svg>
                </div>
            </div>
        </div>
        <div class="page" id="point2">
            <div>
                <img src="img/cloudsmall.png" class="cloudhuge section-one">
                <img src="img/cloudhuge.png" class="cloudsmall section-two">
                <div class="background section-three">
                    <label for="button" class="button" style="background: #f4eac2;margin-bottom: 10vw;">
                        <div id="iptback" style="font-size: 20vw;"></div>
                        <input type="text" id="ipt" placeholder="请输入唯一邀请码" maxlength="5">
                    </label>
                    <label for="button" class="button" id="click2">
                        确认
                        <i class="fas fa-check" style="letter-spacing: 0;"></i>
                    </label>
                </div>
            </div>
        </div>
        <div class="page" id="point3"></div>
        <div class="page" id="point4"></div>
        <div class="page" id="point5">
            <div class="countDown">
                <div id="pause">停止</div>
                <p>距离农历新年还有</p>
                <p><span class="time"></span></p>
            </div>
        </div>
    </div>

    <!-- <div id="start">开始</div> -->

    <script>
        var click1 = document.getElementById('click1');
        click1.onclick = function (event) {
            event.stopPropagation(); //防止冒泡
            setTimeout('smooth()', 2500);
            console.log('2');
        }

        function smooth() {
            document.body.scrollTop = document.getElementById("point2").offsetTop;
        }

        var list = ['00000', '01sdq'];
        var click2 = document.getElementById('click2');
        click2.onclick = function (event) {
            event.stopPropagation(); //防止冒泡
            var ipt = document.getElementById('ipt').value;
            var iptback = document.getElementById('iptback');
            for (var i = 0; i < list.length; i++) {
                if (ipt == list[i]) {
                    console.log(list[i]);
                    document.body.scrollTop = document.getElementById("point3").offsetTop;
                    iptback.innerHTML = '';
                    click1.onclick = null;
                    break;
                } else {
                    iptback.innerHTML = '请输入正确信息';
                    console.log('1');
                }
            }
        }

        var start = document.getElementById('start');
        var pause = document.getElementById('pause');
        start.onclick = function (event) {
            event.stopPropagation(); //防止冒泡
            var bgm = document.getElementById('audio');
            bgm.play();
        }
        pause.onclick = function (event) {
            event.stopPropagation(); //防止冒泡
            var bgm = document.getElementById('audio');
            bgm.pause();
        }

        document.addEventListener('touchstart', function () {
            function audioAutoPlay() {
                var audio = document.getElementById('audio');
                audio.play();
            }
            audioAutoPlay();
        });

        var oSpan = document.getElementsByClassName('time')[0];

        function tow(n) {
            return n >= 0 && n < 10 ? '0' + n : '' + n;
        }

        function getDate() {
            var oDate = new Date(); //获取日期对象
            var oldTime = oDate.getTime(); //现在距离1970年的毫秒数
            var newDate = new Date('2020/1/25 00:00:00');
            var newTime = newDate.getTime(); //2019年距离1970年的毫秒数
            var second = Math.floor((newTime - oldTime) / 1000); //未来时间距离现在的秒数
            var day = Math.floor(second / 86400); //整数部分代表的是天；一天有24*60*60=86400秒 ；
            second = second % 86400; //余数代表剩下的秒数；
            var hour = Math.floor(second / 3600); //整数部分代表小时；
            second %= 3600; //余数代表 剩下的秒数；
            var minute = Math.floor(second / 60);
            second %= 60;
            var str = tow(day) + '<span class="time">天</span>' +
                tow(hour) + '<span class="time">小时</span>' +
                tow(minute) + '<span class="time">分钟</span>' +
                tow(second) + '<span class="time">秒</span>';
            oSpan.innerHTML = str;
        }
        getDate();
        setInterval(getDate, 1000);
    </script>
</body>

</html>